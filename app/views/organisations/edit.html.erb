<% content_for :title, "Change #{@organisation.name}â€™s details" %>

<% content_for :before_content do %>
  <%= govuk_back_link(href: :back) %>
<% end %>

<%= form_for(@organisation, as: :organisation, html: { method: :patch }) do |f| %>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">
        <%= content_for(:title) %>
      </h1>

      <% if current_user.support? %>
        <%= f.govuk_text_field :name, autocomplete: "name" %>
      <% end %>

      <%= f.govuk_text_field :address_line1,
        label: { text: "Address line 1" },
        autocomplete: "address-line1" %>

      <%= f.govuk_text_field :address_line2,
        label: { text: "Address line 2" },
        autocomplete: "address-line2" %>

      <%= f.govuk_text_field :postcode,
        autocomplete: "postal-code",
        width: 10 %>

      <%= f.govuk_phone_field :phone,
        label: { text: "Telephone number" },
        autocomplete: "tel",
        width: 20 %>

      <%= f.govuk_check_boxes_fieldset :rent_periods,
        legend: { text: "What are the rent periods for the organisation?" } do %>
        <% @rent_periods.map do |key, period| %>
          <%= f.govuk_check_box :rent_periods,
            key,
            label: { text: period["value"] },
            checked: period[:checked]
            %>
        <% end %>
      <% end %>

      <%= f.govuk_submit "Save changes" %>
    </div>
  </div>
<% end %>
